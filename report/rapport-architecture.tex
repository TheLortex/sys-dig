\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{enumitem}
\usepackage{relsize}
\usepackage{dsfont}
\usepackage{array}
\usepackage[margin=1.0in]{geometry}

\title{Architecture du processeur}

\begin{document}

\maketitle

\section{Mémoires et registres}

Le procésseur possède une unique RAM et une unique ROM. Au démarrage de la
simulation, la RAM est entièrement vide. La ROM contient le programme sous forme
d'opcodes, générés par du code assembleur.

Le processeur possède 16 registres, de 32 bits.

\section{Opcodes}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
  \hline
  0-3  & 4 & 5 & 6 & 7-10 & 11 & 12-15 & 16-19 & 20-23 & 24-27 & 28-31 \\
  \hline
  COND &   & 1 & \multicolumn{8}{c|}{Opération de RAM} \\
  \hline
  COND &   & 0 & I & OPCODE & Set flag & Registre op1 & Registre rd & \multicolumn{3}{c|}{Opérande op2}  \\
  \hline
  COND &   & 0 & 1 & OPCODE & Set flag & Registre op1 & Registre rd & Shift & \multicolumn{2}{c|}{Constante} \\
  \hline
  COND &   & 0 & 0 & OPCODE & Set flag & Registre op1 & Registre rd & \multicolumn{2}{c|}{Shift} & r2  \\
  \hline
\end{tabular}

\subsection{Flags}

  \begin{itemize}
  \item N : Négatif
  \item Z : Zéro
  \item C : Carry
  \item V : Overflow
  \end{itemize}

  \subsection{Conditionnelles}
\begin{tabular}{|c|c|c|c|}
  \hline
  Code & Nom & Condition sur les flags & Signification (pour CMP ou SUB)\\
  \hline
  0000 & EQ & Z & Égalité\\
  0001 & NEQ & $\bar{Z}$ & Non égalité\\
  0010 & CS/HS & C & Carry set\\
  0011 & CC/LO & $\bar{C}$ & Carry clear\\
  0100 & MI & N & Négatif \\
  0101 & PL & $\bar{N}$ & Positif ou nul \\
  0110 & VS & V & Overflow signé \\
  0111 & VC & $\bar{V}$ & Pas d'overflow signé \\
  1000 & HI & C and $\bar{Z}$ & Strictement plus grand non signé \\
  1001 & LS & $\bar{C}$ or Z & Plus petit non signé \\
  1010 & GE & N == V & Plus grand signé \\
  1011 & LT & N != V & Strictement plus petit signé\\
  1100 & GT & $\bar{Z}$ and (N == V) & Strictement plus grand signé \\
  1101 & LE & Z or (N != V) & Plus petit signé \\
  1111 & AL &  & Toujours exécuté \\
  \hline
\end{tabular}

\subsection{Registres}
16 registres addressés sur 4 bits.\\
Le registre \%r00 pointe sur la prochaine instruction à exécuter dans la ROM.

\section{Instructions assembleur}

\subsection{Opérations arithmétiques et booléennes}

\begin{tabular}{|c|c|c|}
  \hline
  Opcode & Nom assembleur & effet \\
  \hline
  0000 & AND & R[rd] = op1 and op2\\
  0001 & EOR & R[rd] = op1 xor op2\\
  0010 & SUB & R[rd] = op1 - op2\\
  0011 & RSB & R[rd] = op2 - op1\\
  0100 & ADD & R[rd] = op1 + op2\\
  0101 & ADC & R[rd] = op1 + op2 + c\\
  0110 & SBC & R[rd] = op1 - op2 + c - 1\\
  0111 & RSC & R[rd] = op2 - op1 + c - 1\\
  1000 & TST & set les flags sur op1 and op2\\
  1001 & TEQ & set les flags sur op1 xor op2\\
  1010 & CMP & set les flags sur op1 - op2\\
  1011 & CMN & set les flags sur op1 + op2\\
  1100 & ORR & R[rd] = op1 or op2\\
  1101 & MOV & R[rd] = op2\\
  1110 & BIC & R[rd] = op1 nand op2\\
  1111 & MVN & R[rd] = not op2\\
  \hline
\end{tabular}

Où c représente le carry

\subsection{Accès à la mémoire}

\begin{tabular}{|c|c|c|}
  \hline
  Opcode & Nom assembleur & effet\\
  \hline
  0 & LDR & R[Rd] = mémoire à l'adresse op2\\
  1 & STR & mémoire à l'adresse op2 = R[Rd]\\
  \hline

\end{tabular}

\section{Détail de l'architecture}

\subsection{ALU}



architecture et fonctionnement de l'ALU\\
architecture et fonctionnement de la carte graphique\\
fonctionnement de la lecture d'instructions ?

\end{document}
